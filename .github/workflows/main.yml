name: Publish to Modrinth
on: [ workflow_dispatch, push ]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Fetch
        uses: actions/checkout@v4
        with:
          sparse-checkout: .
      - name: Zip Folder
        run: |
          ls
          pwd
          rm -rf IllegalMCT.zip
          zip -r IllegalMCT.zip . -i .
          
      - name: Publishing to Modrinth
        uses: Kir-Antipov/mc-publish@v3.3
        with:
          # Only include this section if you wish to publish
          # your assets on Modrinth.
          modrinth-id: illegal-mct
          modrinth-token: "${{secrets.MODRINTH_TOKEN}}"
          name: "${{env.RELEASE_NAME}}"
          version: "${{env.VERSION}}"
